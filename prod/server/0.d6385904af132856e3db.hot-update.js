exports.id=0,exports.modules={"./src/server/server.js":function(e,t,r){"use strict";r.r(t);var n=r("./build/contracts/FlightSuretyApp.json"),o=r("./src/server/config.json"),s=r("web3"),c=r.n(s),a=r("express"),l=r.n(a);r("babel-polyfill");function u(e,t,r,n,o,s,c){try{var a=e[s](c),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var s=e.apply(t,r);function c(e){u(s,n,o,c,a,"next",e)}function a(e){u(s,n,o,c,a,"throw",e)}c(void 0)}))}}console.log("start!!!");var f=[],g=o.localhost,p=new c.a(new c.a.providers.WebsocketProvider(g.url.replace("http","ws")));p.eth.defaultAccount=p.eth.accounts[0];var h=new p.eth.Contract(n.abi,g.appAddress),v=[0,10,20,30,40,50],d=function(){var e=i(regeneratorRuntime.mark((function e(){var t,r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.eth.getAccounts();case 2:return t=e.sent,console.log("start!"),console.log("accounts: ",t),e.next=7,h.methods.REGISTRATION_FEE().call();case 7:r=e.sent,console.log(r),n=1;case 10:if(!(n<20)){e.next=21;break}return e.next=13,h.methods.registerOracle().send({from:t[n],value:r,gas:4712388,gasPrice:1e11});case 13:return e.next=15,h.methods.getMyIndexes().call({from:t[n]});case 15:o=e.sent,f.push(o),console.log("Oracle Registered: ".concat(o[0],", ").concat(o[1],", ").concat(o[2]));case 18:n++,e.next=10;break;case 21:return console.log(f),e.abrupt("return",t);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();console.log("accounts: ",d),console.log("1st check point"),it("can request flight status",i(regeneratorRuntime.mark((function e(){var t,r,n,o,s,c,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="ND1309",r=Math.floor(Date.now()/1e3),n=d[1],o=Math.floor(6*Math.random()),console.log(v[o]),e.next=7,g.flightSuretyApp.registerFlight(t,r,n,{from:g.firstAirline});case 7:return e.next=9,g.flightSuretyApp.fetchFlightStatus(g.firstAirline,t,r);case 9:s=1;case 10:if(!(s<20)){e.next=30;break}return e.next=13,g.flightSuretyApp.getMyIndexes({from:d[s]});case 13:c=e.sent,a=0;case 15:if(!(a<3)){e.next=27;break}return e.prev=16,e.next=19,g.flightSuretyApp.submitOracleResponse(c[a],g.firstAirline,t,r,v[o],{from:d[s]});case 19:console.log(s,a),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(16);case 24:a++,e.next=15;break;case 27:s++,e.next=10;break;case 30:return e.next=32,g.flightSuretyApp.FlightStatusCode.call(g.firstAirline,t,r);case 32:l=e.sent,console.log("Flight Status Code: ",l);case 34:case"end":return e.stop()}}),e,null,[[16,22]])})))),h.events.OracleRequest({fromBlock:0},(function(e,t){e&&console.log(e),console.log("OracleRequest"),console.log(t)})),h.events.FlightStatusInfo({fromBlock:0},(function(e,t){e&&console.log(e),console.log("FlightStatusInfo"),console.log(t)})),h.events.OracleReport({fromBlock:0},(function(e,t){e&&console.log(e),console.log("OracleReport"),console.log(t)}));var x=l()();x.get("/api",(function(e,t){t.send({message:"An API for use with your Dapp!"})})),t.default=x}};