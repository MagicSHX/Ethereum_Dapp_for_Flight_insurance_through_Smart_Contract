exports.id=0,exports.modules={"./src/server/server.js":function(e,o,t){"use strict";t.r(o);var n=t("./build/contracts/FlightSuretyApp.json"),r=(t("./build/contracts/FlightSuretyData.json"),t("./src/server/config.json")),s=(t("web3"),t("express")),c=t.n(s);t("babel-polyfill");function a(e,o,t,n,r,s,c){try{var a=e[s](c),l=a.value}catch(e){return void t(e)}a.done?o(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var o=this,t=arguments;return new Promise((function(n,r){var s=e.apply(o,t);function c(e){a(s,n,r,c,l,"next",e)}function l(e){a(s,n,r,c,l,"throw",e)}c(void 0)}))}}console.log("start!!!");var u=[],i=[],g=r.localhost;web3.eth.defaultAccount=web3.eth.accounts[0];var f=new web3.eth.Contract(n.abi,g.appAddress),h=[0,10,20,30,40,50];(function(){var e=l(regeneratorRuntime.mark((function e(){var o,t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,web3.eth.getAccounts();case 2:return i=e.sent,console.log("start!"),console.log("accounts: ",i),e.next=7,f.methods.REGISTRATION_FEE().call();case 7:o=e.sent,console.log(o),t=2;case 10:if(!(t<21)){e.next=21;break}return e.next=13,f.methods.registerOracle().send({from:i[t],value:o,gas:4712388,gasPrice:1e11});case 13:return e.next=15,f.methods.getMyIndexes().call({from:i[t]});case 15:n=e.sent,u.push(n),console.log("Oracle Registered: ".concat(n[0],", ").concat(n[1],", ").concat(n[2]));case 18:t++,e.next=10;break;case 21:console.log(u);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),console.log("accounts: ",i),console.log("1st check point");var p=function(){var e=l(regeneratorRuntime.mark((function e(o,t,n){var r,s,c,a,l,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Math.floor(6*Math.random()),r=2,console.log("random status code: ",h[r]),console.log("account: ",i[0]),s=2;case 5:if(!(s<21)){e.next=22;break}c=u[s-2],console.log(c),a=0;case 9:if(!(a<3)){e.next=19;break}return console.log(i[s]),e.next=13,f.methods.submitOracleResponse(c[a],o,t,n,h[r]).call({from:i[s],gas:4712388,gasPrice:1e11});case 13:l=e.sent,console.log(l),console.log(s,a);case 16:a++,e.next=9;break;case 19:s++,e.next=5;break;case 22:return e.next=24,f.methods.FlightStatusCode(o,t,n).call();case 24:g=e.sent,console.log("Flight Status Code: ",g);case 26:case"end":return e.stop()}}),e)})));return function(o,t,n){return e.apply(this,arguments)}}();f.events.OracleRequest({fromBlock:"latest"},(function(e,o){e&&console.log(e),console.log("OracleRequest"),console.log(o);var t=o.returnValues.flight,n=o.returnValues.timestamp,r=o.returnValues.airline;p(r,t,n)})),f.events.FlightStatusInfo({fromBlock:0},(function(e,o){e&&console.log(e),console.log("FlightStatusInfo"),console.log(o)})),f.events.OracleReport({fromBlock:0},(function(e,o){e&&console.log(e),console.log("OracleReport"),console.log(o)}));var d=c()();d.get("/api",(function(e,o){o.send({message:"An API for use with your Dapp!"})})),o.default=d},web3:function(e,o){e.exports=require("web3")}};